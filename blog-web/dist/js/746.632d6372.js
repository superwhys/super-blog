"use strict";(self["webpackChunkblog_web"]=self["webpackChunkblog_web"]||[]).push([[746],{6047:function(t,e,n){n.r(e),n.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"postPage"},[e("base-page",{scopedSlots:t._u([{key:"blogHeaderImgInnerShow",fn:function(){return[e("div",{staticClass:"imgTitle"},[t._v(" "+t._s(t.postItem.title)+" ")]),e("div",{staticClass:"imgTag"},t._l(t.postItem.metaData.tags,(function(t){return e("tag-item",{key:t,staticStyle:{"margin-left":"5px",color:"white"},attrs:{text:t,"to-end-point":"/tag/"+t}})})),1)]},proxy:!0},{key:"blogLeftMainShow",fn:function(){return[e("v-md-preview",{ref:"preview",staticStyle:{"text-align":"left"},attrs:{text:t.postItem.postContent}})]},proxy:!0},{key:"blogRightMainShow",fn:function(){return[e("div",{staticClass:"anchor"},[e("div",{staticStyle:{"text-align":"left","font-size":"20px","font-weight":"bold","padding-bottom":"15px"}},[t._v(" - CATALOG ")]),t._l(t.titles,(function(n){return e("div",{staticClass:"anchorItem",style:{padding:`10px 0 10px ${20*n.indent}px`},on:{click:function(e){return t.handleAnchorClick(n)}}},[e("a",{staticStyle:{cursor:"pointer"}},[t._v(t._s(n.title))])])}))],2)]},proxy:!0}])})],1)},a=[],s=n(4707),r=n(4190);function o(t,e,n,i){return(0,r.W)({url:`/post/${t}/${e}/${n}/${i}`})}var l=n(133),h=n(2428),c={name:"blogPage",components:{TagItem:h.Z,BasePage:s.Z},data(){return{year:"",month:"",day:"",name:"",titles:[],mdToc:[],postItem:new l.lj({})}},created(){this.year=this.$route.params.year,this.month=this.$route.params.month,this.day=this.$route.params.day,this.name=this.$route.params.name,o(this.year,this.month,this.day,this.name).then((t=>{console.debug(t),t.data&&(this.postItem=new l.lj(t.data),this.$nextTick((()=>{this.findTitles()})))}))},methods:{findTitles(){this.$nextTick((()=>{const t=this.$refs.preview.$el.querySelectorAll("h1,h2,h3,h4,h5,h6"),e=Array.from(t).filter((t=>!!t.innerText.trim()));if(!e.length)return void(this.titles=[]);const n=Array.from(new Set(e.map((t=>t.tagName)))).sort();this.titles=e.map((t=>({title:t.innerText,lineIndex:t.getAttribute("data-v-md-line"),indent:n.indexOf(t.tagName)})))}))},handleAnchorClick(t){const{lineIndex:e}=t,n=this.$refs.preview.$el.querySelector(`[data-v-md-line="${e}"]`);n&&window.scrollTo({top:n.offsetTop-60,behavior:"smooth"})}}},d=c,m=n(1001),p=(0,m.Z)(d,i,a,!1,null,"756248d7",null),u=p.exports}}]);
//# sourceMappingURL=746.632d6372.js.map